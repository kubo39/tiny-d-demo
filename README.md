# Tiny D demo

```
$ ./build.sh
DMD64 D Compiler v2.067.1

+ dmd -c tinybin.d
+ gcc tinybin.o -o payload -e _Dmain -T script.ld -Xlinker --gc-section -l:libphobos2.a -lpthread
+ objcopy -j combined -O binary payload payload.bin
++ nm -f posix payload
++ grep _Dmain
++ awk '{print $3}'
+ ENTRY=00000000004000c8
+ nasm -f bin -o tinybin -D entry=0x00000000004000c8 elf.s
+ chmod +x tinybin
+ hd tinybin
00000000  7f 45 4c 46 02 01 01 00  00 00 00 00 00 00 00 00  |.ELF............|
00000010  02 00 3e 00 01 00 00 00  c8 00 40 00 00 00 00 00  |..>.......@.....|
00000020  40 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |@...............|
00000030  00 00 00 00 40 00 38 00  01 00 00 00 00 00 00 00  |....@.8.........|
00000040  01 00 00 00 07 00 00 00  00 00 00 00 00 00 00 00  |................|
00000050  00 00 40 00 00 00 00 00  00 00 40 00 00 00 00 00  |..@.......@.....|
00000060  28 01 00 00 00 00 00 00  28 01 00 00 00 00 00 00  |(.......(.......|
00000070  00 10 00 00 00 00 00 00  55 48 8b ec 48 83 ec 10  |........UH..H...|
00000080  48 89 7d f0 48 89 75 f8  48 b8 01 00 00 00 00 00  |H.}.H.u.H.......|
00000090  00 00 48 bf 01 00 00 00  00 00 00 00 48 8b 75 f8  |..H.........H.u.|
000000a0  48 8b 55 f0 0f 05 c9 c3  55 48 8b ec 48 b8 3c 00  |H.U.....UH..H.<.|
000000b0  00 00 00 00 00 00 48 bf  00 00 00 00 00 00 00 00  |......H.........|
000000c0  0f 05 5d c3 0f 1f 40 00  55 48 8b ec 48 83 ec 10  |..]...@.UH..H...|
000000d0  48 be 08 01 40 00 00 00  00 00 48 8d 7d f8 a4 a4  |H...@.....H.}...|
000000e0  a4 a4 a4 a4 a4 48 8d 75  f8 48 bf 07 00 00 00 00  |.....H.u.H......|
000000f0  00 00 00 e8 80 ff ff ff  e8 ab ff ff ff 31 c0 c9  |.............1..|
00000100  c3 0f 1f 80 00 00 00 00  48 65 6c 6c 6f 21 0a 00  |........Hello!..|
00000110  00 00 00 00 00 00 00 00  04 10 00 00 00 00 00 00  |................|
00000120  74 69 6e 79 62 69 6e 00                           |tinybin.|
00000128
+ wc -c tinybin
296 tinybin

$ ./tinybin
Hello!
```
